#include <sonde2.h>
/*
#INT_TIMER1
void  TIMER1_isr(void) 
{

}

#INT_RDA
void  RDA_isr(void) 
{

}
*/
void main()
{
   setup_adc_ports(AN0_VREF_VREF);
   setup_adc(ADC_CLOCK_INTERNAL);
   setup_timer_0(RTCC_INTERNAL|RTCC_DIV_1|RTCC_8_BIT);      //51,2 us overflow
   setup_timer_1(T1_INTERNAL|T1_DIV_BY_8);      //104 ms overflow


   enable_interrupts(INT_TIMER1);
   enable_interrupts(INT_RDA);
   enable_interrupts(GLOBAL);
   setup_low_volt_detect(FALSE);

   while(TRUE)
   {
      int temp_anal =read_adc();
      int temp_num = (temp_anal / 5) * 100;
      int digit = temp_num % 10;
      output_d(digit);
      temp_num/=10;
      digit = temp_num % 10;
      output_d(digit<<4);

}
